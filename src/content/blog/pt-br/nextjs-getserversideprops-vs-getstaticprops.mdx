---
title: "GetServerSideProps vs GetStaticProps no Next.js"
date: "2024-07-10"
excerpt: "Entendendo as principais diferen√ßas entre GetServerSideProps e GetStaticProps no Next.js, e quando usar cada um para desempenho ideal."
slug: "nextjs-getserversideprops-vs-getstaticprops"
tags: ["Next.js", "React", "SSR", "SSG", "Performance"]
language: "pt-br"
author: "Gabriela Schlemper"
readingTime: "6 min de leitura"
keywords: ["Next.js", "GetServerSideProps", "GetStaticProps", "SSR", "SSG", "Gera√ß√£o de Site Est√°tico", "Renderiza√ß√£o do Lado do Servidor", "React", "otimiza√ß√£o de desempenho", "cache"]
---

# GetServerSideProps vs GetStaticProps no Next.js

No Next.js, temos a op√ß√£o de utilizar `GetServerSideProps`, um recurso que facilita a busca de dados exclusivamente no lado do servidor e se abst√©m de execu√ß√£o no navegador do cliente. Mas e o `GetStaticProps`? Voc√™ conhece as diferen√ßas entre os dois?

## O Exemplo do E-commerce

Imagine que voc√™ est√° gerenciando uma plataforma de e-commerce dedicada √† venda de camisetas. Com que frequ√™ncia voc√™ muda as imagens dos produtos? Provavelmente n√£o com muita frequ√™ncia, certo?

**O problema ao empregar `getServerSideProps`** √© que toda vez que nossa p√°gina √© recarregada, ela dispara uma chamada de API, consumindo:
- ‚è±Ô∏è Tempo
- üíæ Mem√≥ria
- üîÑ Poder de processamento

Isso acaba resultando em um **carregamento de p√°gina mais lento**.

## Apresentando a Gera√ß√£o de Site Est√°tico (SSG)

O Next.js oferece uma funcionalidade conhecida como **Gera√ß√£o de Site Est√°tico (SSG)**. Essencialmente, ao lidar com p√°ginas que sofrem mudan√ßas pouco frequentes, podemos implementar um mecanismo de cache para apresentar a mesma vers√£o da p√°gina para todos os usu√°rios. Este conceito est√° encapsulado no `GetStaticProps`.

## Considera√ß√£o Importante

Aqui est√° uma considera√ß√£o importante: **Quando voc√™ muda para usar `GetStaticProps`, voc√™ n√£o tem acesso ao contexto da requisi√ß√£o** (req, res, cookies, informa√ß√µes do usu√°rio).

Isso ocorre porque este m√©todo √© executado durante a build da sua aplica√ß√£o e voc√™ fornece um n√∫mero `revalidate`. Significa que se voc√™ configur√°-lo para 5 segundos, a cada 5 segundos, o Next.js criar√° uma nova vers√£o da sua p√°gina.

## Exemplos

### Usando GetServerSideProps

```javascript
export async function getServerSideProps(context) {
  // Acesse o contexto da requisi√ß√£o (context) aqui
  // Busque dados com base na requisi√ß√£o
  const data = await fetchData();

  // Retorne os dados como props
  return {
    props: {
      data,
    },
  };
}
```

**Caracter√≠sticas principais:**
- ‚úÖ Executa a cada requisi√ß√£o
- ‚úÖ Tem acesso ao contexto da requisi√ß√£o
- ‚úÖ Bom para dados din√¢micos e espec√≠ficos do usu√°rio
- ‚ùå Carregamento inicial de p√°gina mais lento
- ‚ùå N√£o pode ser armazenado em cache por CDN

### Usando GetStaticProps

```javascript
export async function getStaticProps() {
  // N√£o pode acessar o contexto da requisi√ß√£o (context) aqui
  // Busque dados para a p√°gina est√°tica
  const data = await fetchData();

  // Retorne os dados como props
  return {
    props: {
      data,
    },
    // Propriedade de revalida√ß√£o para regenera√ß√£o din√¢mica
    revalidate: 5, // Regenerar a cada 5 segundos
  };
}
```

**Caracter√≠sticas principais:**
- ‚úÖ Executa no momento da build
- ‚úÖ As p√°ginas podem ser armazenadas em cache por CDN
- ‚úÖ Carregamentos de p√°gina extremamente r√°pidos
- ‚úÖ Pode usar Regenera√ß√£o Est√°tica Incremental (ISR)
- ‚ùå Sem acesso ao contexto da requisi√ß√£o
- ‚ùå N√£o adequado para dados espec√≠ficos do usu√°rio

## Quando Usar Cada Um?

### Use GetServerSideProps quando:

- Voc√™ precisa acessar informa√ß√µes do momento da requisi√ß√£o (cookies, headers, par√¢metros de consulta)
- Os dados s√£o espec√≠ficos do usu√°rio e n√£o podem ser armazenados em cache
- O conte√∫do muda a cada requisi√ß√£o
- Voc√™ precisa de informa√ß√µes de autentica√ß√£o

**Exemplos:**
- Dashboard do usu√°rio com dados personalizados
- Carrinho de compras
- Pain√©is de administra√ß√£o
- Exibi√ß√µes de dados em tempo real

### Use GetStaticProps quando:

- O conte√∫do n√£o muda frequentemente
- Os dados s√£o os mesmos para todos os usu√°rios
- A p√°gina pode ser pr√©-renderizada no momento da build
- O desempenho √© cr√≠tico

**Exemplos:**
- Posts de blog
- Cat√°logo de produtos
- P√°ginas de marketing
- Documenta√ß√£o

## Lembrete R√°pido

**Se sua p√°gina requer informa√ß√µes din√¢micas**, usar `GetStaticProps` pode n√£o ser adequado. Isso ocorre porque p√°ginas est√°ticas s√£o geradas durante o tempo de build, tornando-o impratic√°vel quando voc√™ precisa alterar dinamicamente informa√ß√µes com base em condi√ß√µes espec√≠ficas do usu√°rio.

## Tabela de Compara√ß√£o

| Recurso | GetServerSideProps | GetStaticProps |
|---------|-------------------|----------------|
| **Executa** | A cada requisi√ß√£o | Tempo de build (+ revalida√ß√£o) |
| **Acesso ao contexto** | ‚úÖ Sim | ‚ùå N√£o |
| **Cache CDN** | ‚ùå N√£o | ‚úÖ Sim |
| **Desempenho** | Mais lento | Mais r√°pido |
| **Caso de uso** | Dados din√¢micos | Dados est√°ticos/semi-est√°ticos |
| **Suporte ISR** | ‚ùå N√£o | ‚úÖ Sim |

## Conclus√£o

Tanto `getServerSideProps` quanto `getStaticProps` t√™m seu lugar em aplica√ß√µes Next.js. A chave √© entender seus requisitos de dados e escolher a ferramenta certa para o trabalho:

- **Dados din√¢micos e espec√≠ficos do usu√°rio?** ‚Üí `getServerSideProps`
- **Dados est√°ticos ou que mudam pouco frequentemente?** ‚Üí `getStaticProps`

Ao fazer a escolha certa, voc√™ pode melhorar significativamente o desempenho da sua aplica√ß√£o e a experi√™ncia do usu√°rio!

---

*Tem d√∫vidas sobre busca de dados no Next.js? Sinta-se √† vontade para entrar em contato pelo [LinkedIn](https://linkedin.com/in/gabrielaschlemper)!*
